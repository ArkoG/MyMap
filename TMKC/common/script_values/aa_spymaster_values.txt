


spymaster_disrupt_schemes_modifier_final_scale = {
	add = spymaster_disrupt_schemes_hostile_scheme_resistance_base
	add = spymaster_disrupt_schemes_modifier_base_scale
	add = spymaster_disrupt_schemes_court_of_shadows_modifier_scale
	add = spymaster_disrupt_schemes_erudition_legacy_5_modifier_scale
	add = spymaster_disrupt_schemes_family_business_modifier_scale
	add = spymaster_disrupt_schemes_spy_master_trait_discovery_modifier_scale
}

spymaster_disrupt_schemes_total_modifier = {
	add = spymaster_disrupt_schemes_scheme_discovery_base
	add = spymaster_disrupt_schemes_scheme_discovery_modifier
	add = spymaster_disrupt_schemes_court_of_shadows_scheme_discovery_modifier_scale
	add = spymaster_disrupt_schemes_erudition_legacy_5_discovery_modifier_scale
	add = spymaster_disrupt_schemes_family_business_discovery_modifier_scale
	add = spymaster_disrupt_schemes_spy_master_trait_modifier_scale
}

spymaster_espionage_modifier_final_scale = {
	add = spymaster_espionage_scheme_power_base
	add = spymaster_espionage_modifier_base_scale
	add = spymaster_espionage_legacy_bonus
	add = spymaster_espionage_family_business_bonus
	add = spymaster_espionage_court_type_bonus
	add = spymaster_espionage_spy_master_trait_bonus
}

spymaster_espionage_success_chance_total = {
	add = spymaster_espionage_success_chance_base
	add = spymaster_espionage_success_chance_modifier_base_scale
	add = spymaster_espionage_success_chance_legacy_bonus
	add = spymaster_espionage_success_chance_family_business_bonus
	add = spymaster_espionage_success_chance_court_type_bonus
	add = spymaster_espionage_success_chance_spy_master_trait_bonus
}

# ========================= New value ===============================================

spymaster_find_secrets_spy_master_monthly_increase = {
	add = spymaster_find_secrets_base_total
	if = {
		limit = {
			has_trait = spymaster_1
		}
		multiply = spy_master_task_spy_master_1_value
	}
	else_if = {
		limit = {
			has_trait = spymaster_2
		}
		multiply = spy_master_task_spy_master_2_value
	}
	else_if = {
		limit = {
			has_trait = spymaster_3
		}
		multiply = spy_master_task_spy_master_3_value
	}
}

spy_master_task_spy_master_1_value = 0.05
spy_master_task_spy_master_2_value = 0.10
spy_master_task_spy_master_3_value = 0.15


spymaster_disrupt_schemes_spy_master_trait_discovery_modifier_scale = {
	value = 0
	if = {
		limit = {
			has_trait = spymaster_1
		}
		add = {
			value = spymaster_disrupt_schemes_hostile_scheme_resistance_base
			add = spymaster_disrupt_schemes_modifier_base_scale
			multiply = spy_master_task_spy_master_1_value
		}
	}
	else_if = {
		limit = {
			has_trait = spymaster_2
		}
		add = {
			value = spymaster_disrupt_schemes_hostile_scheme_resistance_base
			add = spymaster_disrupt_schemes_modifier_base_scale
			multiply = spy_master_task_spy_master_2_value
		}
	}
	else_if = {
		limit = {
			has_trait = spymaster_3
		}
		add = {
			value = spymaster_disrupt_schemes_hostile_scheme_resistance_base
			add = spymaster_disrupt_schemes_modifier_base_scale
			multiply = spy_master_task_spy_master_3_value
		}
	}
}

spymaster_disrupt_schemes_spy_master_trait_modifier_scale = {
	value = 0
	if = {
		limit = {
			has_trait = spymaster_1
		}
		add = {
			value = spymaster_disrupt_schemes_scheme_discovery_base
			add = spymaster_disrupt_schemes_scheme_discovery_modifier
			multiply = spy_master_task_spy_master_1_value
		}
	}
	else_if = {
		limit = {
			has_trait = spymaster_2
		}
		add = {
			value = spymaster_disrupt_schemes_scheme_discovery_base
			add = spymaster_disrupt_schemes_scheme_discovery_modifier
			multiply = spy_master_task_spy_master_2_value
		}
	}
	else_if = {
		limit = {
			has_trait = spymaster_3
		}
		add = {
			value = spymaster_disrupt_schemes_scheme_discovery_base
			add = spymaster_disrupt_schemes_scheme_discovery_modifier
			multiply = spy_master_task_spy_master_3_value
		}
	}
}


spymaster_espionage_spy_master_trait_bonus = {
	value = 0
	if = {
		limit = {
			has_trait = spymaster_1
		}
		add = {
			value = spymaster_espionage_scheme_power_base
			add = spymaster_espionage_modifier_base_scale
			multiply = spy_master_task_spy_master_1_value
		}
	}
	else_if = {
		limit = {
			has_trait = spymaster_2
		}
		add = {
			value = spymaster_espionage_scheme_power_base
			add = spymaster_espionage_modifier_base_scale
			multiply = spy_master_task_spy_master_2_value
		}
	}
	else_if = {
		limit = {
			has_trait = spymaster_3
		}
		add = {
			value = spymaster_espionage_scheme_power_base
			add = spymaster_espionage_modifier_base_scale
			multiply = spy_master_task_spy_master_3_value
		}
	}
}


spymaster_espionage_success_chance_spy_master_trait_bonus = {
	value = 0
	if = {
		limit = {
			has_trait = spymaster_1
		}
		add = {
			value = spymaster_espionage_success_chance_base
			add = spymaster_espionage_modifier_base_scale
			multiply = spy_master_task_spy_master_1_value
		}
	}
	else_if = {
		limit = {
			has_trait = spymaster_2
		}
		add = {
			value = spymaster_espionage_success_chance_base
			add = spymaster_espionage_modifier_base_scale
			multiply = spy_master_task_spy_master_2_value
		}
	}
	else_if = {
		limit = {
			has_trait = spymaster_3
		}
		add = {
			value = spymaster_espionage_success_chance_base
			add = spymaster_espionage_modifier_base_scale
			multiply = spy_master_task_spy_master_3_value
		}
	}
}